@using Microsoft.AspNetCore.Components.Routing

<div class="sidebar-nav">
    @foreach (var item in NavItems)
    {
        <div class="nav-group">
            <div class="nav-item parent" @onclick="() => Toggle(item)">
                <i class="@item.Icon"></i>
                <span>@item.Title</span>
                <i class="bi @(item.IsExpanded ? "bi-chevron-down" : "bi-chevron-right") toggle-icon"></i>
            </div>
            @if (item.IsExpanded && item.Children?.Any() == true)
            {
                <div class="nav-children">
                    @foreach (var child in item.Children)
                    {
                        <NavLink class="nav-item child" href="@child.Href" Match="NavLinkMatch.All">
                            <i class="@child.Icon"></i>
                            <span>@child.Title</span>
                        </NavLink>
                    }
                </div>
            }
        </div>
    }
</div>

@code {
    [Parameter]
    public List<NavItem> NavItems { get; set; } = new();

    private void Toggle(NavItem item)
    {
        item.IsExpanded = !item.IsExpanded;
    }

    public class NavItem
    {
        public string Title { get; set; } = "";
        public string Href { get; set; } = "";
        public string Icon { get; set; } = "bi bi-dot";
        public bool IsExpanded { get; set; } = false;
        public List<NavItem>? Children { get; set; }
    }
}
<style>
    .sidebar-nav {
        width: 240px;
        height: 100vh;
        background-color: #1e1e2f;
        color: white;
        padding-top: 1rem;
        overflow-y: auto;
        resize: horizontal;
    }

    .nav-item {
        display: flex;
        align-items: center;
        padding: 0.6rem 1rem;
        color: #ccc;
        text-decoration: none;
        cursor: pointer;
        transition: all ease-in-out 0.2s;
    }

        .nav-item:hover {
            background-color: #2c2c3d;
            color: #fff;
        }

        .nav-item.active {
            background-color: #3a3a4d;
            color: #fff;
        }

        .nav-item i {
            margin-right: 0.6rem;
        }

    .nav-group .toggle-icon {
        margin-left: auto;
        font-size: 0.9rem;
    }

    .nav-children {
        background-color: #29293d;
    }

    .nav-item.child {
        padding-left: 2.5rem;
        font-size: 0.95rem;
    }

</style>
