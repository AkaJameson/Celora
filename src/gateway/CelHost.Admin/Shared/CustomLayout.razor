@using System.Diagnostics.CodeAnalysis

<div class="layout">
    <div class="layout-sidebar">
        @Sidebar
    </div>
    <div class="layout-main">
        <div class="layout-header">
            @Header
        </div>
        <div class="layout-content">
            @Main
        </div>
        @if (ShowFooter)
        {
            <div class="layout-footer">
                @Footer
            </div>
        }
    </div>
</div>

@code {
    [Parameter]
    public bool ShowFooter { get; set; } = false;

    [Parameter]
    [NotNull]
    public RenderFragment Header { get; set; } = null!;

    [Parameter]
    [NotNull]
    public RenderFragment Sidebar { get; set; } = null!;

    [Parameter]
    [NotNull]
    public RenderFragment Main { get; set; } = null!;

    [Parameter]
    public RenderFragment? Footer { get; set; }

    protected override Task OnParametersSetAsync()
    {
        if (ShowFooter && Footer == null)
        {
            throw new ArgumentNullException(nameof(Footer));
        }
        return base.OnParametersSetAsync();
    }
}